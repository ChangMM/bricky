webpackJsonp([3,0],{0:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=i(12),a=o(n),r=i(18),s=o(r),c=i(210),l=o(c),d=i(24),A=o(d),f=i(40),u=o(f),p=i(9),v=o(p);i(95);var g=i(8),h=i(39);(0,v["default"])(a["default"]),a["default"].use(g),a["default"].use(h),a["default"].use(s["default"]),(0,u["default"])(a["default"]),a["default"].http.options.emulateJSON=!0,new a["default"]({el:"body",components:{Navheader:A["default"],New:l["default"]}})},1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUQ4RjExREU3NUI2MTFFNkExQTdCNUVBMDczRDU1ODAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUQ4RjExREY3NUI2MTFFNkExQTdCNUVBMDczRDU1ODAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFRDhGMTFEQzc1QjYxMUU2QTFBN0I1RUEwNzNENTU4MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFRDhGMTFERDc1QjYxMUU2QTFBN0I1RUEwNzNENTU4MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqW2Qj0AAAMoSURBVHja5Nw7ixRBEAfw2RJT77wzWzAwMPZxro9oVjRWBCNzMfIbCHpgaGSin8BAFAVR93bhYsGP4L32LhYNDUSrcBqHZmeneqa7qx8Ff3aYxz5+zHb3MM0MRqNRUavbmIeYO5gfRV51CvMa8wzzQa2E2usm5i1mjJliVjPDod9cYt5jHmEGCmZFX4m1kRGSwjmnnSzvMCcG+BfbwoWbDQd/xdzA/EwUZx0zq+HoNSGt+5iDhh02qjdYyRBnH/MAqoVxZkgcHDLZV430XkZIbJx6L5YLkhGODpQ6UhvOgY6zCChVJA5OqeM0AaWG1BlnGVAqSL1w2oC4SNNAkda1EbIxDgeIg3QpQCSFc74PDheojjSPAMkajgmQQioDR7KKYwoUOpJ1nC5AoSI5wekKFBoSB2fcBacPUChIXJy9rh8APb+gJJJzHBtAUkhrPnBsAXGRtiwhrVWXD85xbAJxkEYWkLzi2AbijLj7IHnHcQFEtesASQTHFZBtJDEcl0C2kNpw5i5xXAP1ReLglC5xfAB1RQoCxxcQF2lSIbUNAr3hUA206S+u6wxmG3O6YfsXzHHMhRBwfJ5B+pl02LD9ckg4EkAKqVyCFAyOFJApkhiOJJBCoql+f5bsQ9tuSeFIA1Fv9bL4P6ttYSeCeVEI3ggAQZzpkgZZb7gnUkgQOI44km+gky0485YhgHck8Iwza8EZt/RuhPTZJxIEhrPLGAJc8YkEgeFwR9zekCBAHFU7ISBBoDjBIIEQziEDJwgkEMIpmTjiSBABjigSRIIjhgQWcaaOcUyQPtlCAos4Fz3gcJGu2kKCCHF0pCOXSBApTh2pdIkEEeN4QYLIcZwjgQOcsWccp0jgAGenkCvrSFyg1QhwnCABE2cWCY4J0kcOEiSIw0W6xkGCRHG4g8lWJEgYR9W3PkiQOE5vJMgApxcSGOAcRYzTGQkMcMrIcTohQWY4xkgE9CYzHBOkVwT0vFg8iSllHA7Sb7IhIHoU1WaGOG1Ij+maTTXSTyqo3HDqSNdrSNTsPKWFY8PhUO1Et0vorsTdzHBUfS/+PR7wLOYe5het/CvAANBhkif9bposAAAAAElFTkSuQmCC"},4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbMAAAGzCAIAAAAqj27QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQyNzVBODA3NjA5MTFFNkExQTdCNUVBMDczRDU1ODAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQyNzVBODE3NjA5MTFFNkExQTdCNUVBMDczRDU1ODAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRDI3NUE3RTc2MDkxMUU2QTFBN0I1RUEwNzNENTU4MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRDI3NUE3Rjc2MDkxMUU2QTFBN0I1RUEwNzNENTU4MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjEz5LsAAAkhSURBVHja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5nnOFrJ1v0EfUYAycrdpmlJ9PSWXplvQKCMrKL/Ex4IGZaSNhwgsaJQRLGiUEb4wz7MFjTKCBY0yggWNMvKH5a233A7nN0g00UcUoIyjb8Zer7OxoGmX38mNORydL2iffYoy8u94dDvEUdHtgDXNxVnp6fSZUBY0KCMXcYxA7Pf7oR5zjBoeTtwBUEa+PDq5pBmS8DgjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoIwDKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAqCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygiAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjAAoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCIAyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgKgjADKCKCMAMoIsK6/BRgAEbHQL6pmVSwAAAAASUVORK5CYII="},6:function(e,t){},7:function(e,t){e.exports=' <div class="warn-wrap txt-center" transition=warnIn _v-ef834396=""> <p class=msg-wrap _v-ef834396="">{{ msg }}</p> </div> '},8:function(e,t,i){"use strict";function o(e){var t=e.extend(i(11)),o=null;e.prototype.$warn=function(e,i){o||(o=new t({el:document.createElement("div"),data:function(){return{msg:e}}}),o.$appendTo(document.body),i&&setTimeout(function(){i&&i()},1e3))},e.transition("warnIn",{afterEnter:function(){setTimeout(function(){o.$remove()},1500)},afterLeave:function(){o=null}})}var n={install:o};e.exports=n},9:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){String.prototype.gblen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94===this.charCodeAt(t)?e+=2:e++;return e},e.prototype.$getSelectTextById=function(e){var t=document.getElementById(e),i=window.getSelection(),o=document.createRange();o.selectNodeContents(t),i.removeAllRanges(),i.addRange(o);var n=window.getSelection().toString();return i.removeAllRanges(),n},e.prototype.$removeReturn=function(e){return e.replace(/[\r\n]/g,"")},e.prototype.$cookies=function(){var e={};if(0===document.cookie.length)return e;for(var t=document.cookie.split(";"),i=0;i<t.length;i++){var o=t[i].split("=");e[o[0].trim()]=o[1]}return e},e.prototype.$parseUrl=function(e){var t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){for(var e={},i=t.search.replace(/^\?/,"").split("&"),o=i.length,n=[],a=0;a<o;a++)i[a]&&(n=i[a].split("="),e[n[0]]=n[1]);return e}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||["",""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||["",""])[1],segments:t.pathname.replace(/^\//,"").split("/")}},e.prototype.$fixBody=function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},e.prototype.$fixNoBody=function(){document.getElementsByTagName("body")[0].style.overflow=""}}},10:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{}}}},11:function(e,t,i){var o,n;i(6),o=i(10),n=i(7),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},24:function(e,t,i){var o,n;i(26),o=i(42),n=i(30),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},25:function(e,t){},26:function(e,t){},29:function(e,t,i){e.exports=' <div class=confirm-mask transition=confirmIn _v-0104f712=""> <div class=confirm-wrap _v-0104f712=""> <div class=confirm-header _v-0104f712=""> 请确认操作 <div class=line _v-0104f712=""></div> <img src='+i(1)+' class=close v-on:click=f_close _v-0104f712=""> </div> <div class="button-wrap txt-center" _v-0104f712=""> <span class="button cancel-button" v-on:click=f_cancel _v-0104f712="">取消</span> <span class="button confirm-button" v-on:click=f_confirm _v-0104f712="">确认</span> </div> </div> </div> '},30:function(e,t){e.exports=' <div class=nav-wrap id=nav-wrap _v-18fd1ed7=""> <div class="nav base-width" _v-18fd1ed7=""> <a href=/main#!/ _v-18fd1ed7=""> <h1 class=logo _v-18fd1ed7="">砖栏作家</h1> </a> <div class=mp-wrap _v-18fd1ed7=""> <a href=/main#!/account _v-18fd1ed7=""><img v-bind:src=avatar class=avatar alt=砖栏头像 _v-18fd1ed7=""></a> <a href=/main#!/account _v-18fd1ed7=""><span class=name _v-18fd1ed7="">{{ nickname }}</span></a> | <a href=/signout id=logout _v-18fd1ed7="">退出</a> </div> </div> </div> '},39:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){var t=e.extend(i(44)),o=null;e.prototype.$confirm=function(e){if(!o)return o=new t({el:document.createElement("div"),data:function(){return{instance:o,resolve:"",reject:""}},methods:{f_close:function(){o.$remove(),o=null},f_cancel:function(){o.reject(0),o.f_close()},f_confirm:function(){o.resolve(1),o.f_close()}}}),o.$appendTo(document.body),new r["default"](function(e,t){o.resolve=e,o.reject=t})},e.transition("confirmIn")}var a=i(58),r=o(a),s={install:n};e.exports=s},40:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){e&&(e.filter("ellipsis",function(e,t){return e.length>t?e.substr(0,t-2)+"...":e}),e.filter("len",function(e){return"string"==typeof e?e.length:0}),e.filter("timeFormat",function(e){var t=new Date(e),i=t.getYear()+1900,o=t.getMonth()+1,n=t.getDate();return i+"/"+o+"/"+n}))}},41:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{}},methods:{}}},42:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{avatar:i(4),nickname:""}},ready:function(){var e=this;this.$http.get("/api/user").then(function(t){var i=t.body;"ok"===i.error?(e.nickname=i.user.authorNickname,e.avatar=i.user.authorAvatar||e.avatar):"user:not_signin"===i.error&&e.$warn("您尚未登录",function(){window.location.href="/"})},function(e){console.log(e)})},methods:{f_signout:function(){}}}},44:function(e,t,i){var o,n;i(25),o=i(41),n=i(29),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},61:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAKUlEQVQ4y2NgoACcOHHiPxMlBjAwMDCMGjBqwKgBVDKA8cSJE/8pMQAA0k0GzDIwCJMAAAAASUVORK5CYII="},62:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAABICAYAAAB1Aey6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODM1NTdEQTI3NUM4MTFFNkExQTdCNUVBMDczRDU1ODAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODM1NTdEQTM3NUM4MTFFNkExQTdCNUVBMDczRDU1ODAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MzU1N0RBMDc1QzgxMUU2QTFBN0I1RUEwNzNENTU4MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4MzU1N0RBMTc1QzgxMUU2QTFBN0I1RUEwNzNENTU4MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PisXrPAAAAO8SURBVHjazNrZS1RxFAfwa92MMjPbN4uKVgnLNKKNsD2J9sVCWjER8aU/oLde7CEiIkpakHZbJMws2y2isoXWt56C9iizffseOJemuOd3Z/Tee+bA96E50/RhZu6d3+/8SigtLbXipNYh65FU5BhSYscBKgHZTJiIxwqQp3YcwLYgxS69TFsZthUpEvr1tiJsG1Io9B9Q31aCbefvlVs9QaYhDbYCbAeyVug/RnKQ5/SHMHEtkJ3IaqH/iGEvnAfCwrVEypCVQv8hw15GPmiHBNuN5Av9+8hk5JXbWx00bK8Bdk+CBf3OEawcyRP6d5GpyGvpBewAYfuQJUL/DsPemF4kCBy95n5kkdC/zbC30VzeflYr5IABVo9MiQbmNy6RYQuF/i2GvYvlI/ALdhCZJ/Rv8E/S+1jv2n7ADhtg15sC8wNHsApkjtC/hsxoCqy5H2siL6dzhf5VZBbyoTmXfVOqNXIcmSn06xjW0NyVQqzVBqk0wK5wr6G5X+ZYcW2RE8h0oX+JYR/9WmPFAqvkK8+tzvNH2ejnAjBa2Em+ibpVLTIb+eT36jQaWBUvBt3qDN9KfIVFc7UmIaeQiUK/hm++n4Na10vVDqk2wE4jc4OCmXDJDJsg9KsZ9iXoHdH/1Z7/8fHC36li2NcwtmuRlcKwccLz6Yqdj3wLay8ZCaPv0VjhuZW8VgsFFolL4VvCGOF59Du6OEyYg0vmm+ho4TlHkaVhwxzcRiRL6Ffw1i50mHMTXmD4jhHsh6VU9M59F3ojkDRLsQi3Afnp0uuLXET6aeL2ICuQ3y79Pgzsr4WzeHRQ4gEcoIWjouFxsQBMY+BALRwVDZGLBGBv5AIySAtHRcPkQgHYi4GDtXBUNFQuEIA9GThEC0dVZgD2YOBQLZwDpLH8L5dedwYO08JR7WKg2426GwPTtXBUNA1fIwC78p41XQtHRVPxVQYgvYPDtXBU5fxT5wbsgpxDMrRwzk9dvgFYyysaFRwVzX6XC8DODByphaM6ZFiMdmJgphaO6giyTAB2ZOAoLZwDzBNW1KkMzNLCeW2EOjAwWwvntYWkffFZw/YzcJzX5ttr4x44zmts4TXyCBznNfDxGhYFjqMyjcq8xmyB4yzLPGT0GlAGjrOsv+NZN6BxtBsGjqrGkufHSQycpIWLBLodCbgeJ4SJsyzzmYVzEJOjhbMs82nPPydFGjiL9xy5BiDdyLO1cBbPXuiEsVEAbtLEUV225CPQDG0clXR4fDMecFR1vOeg/zPwjC+agj8CDAD1JNEdLajd4QAAAABJRU5ErkJggg=="},63:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAIUlEQVQ4y2M4ceLEfwYKABMlmkcNGDVg1AAqGsBIaXYGAJrABszzAlYZAAAAAElFTkSuQmCC"},68:function(e,t){},73:function(e,t){},95:function(e,t){},100:function(e,t,i){e.exports=" <div class=article-mask transition=withdrawPanelIn> <div class=preview-mask> <img src="+i(1)+" v-on:click=f_close class=close /> <div class=preview-wrap> <div class=preview> <p class=preview-header>砖栏</p> <div class=preview-article> <p class=article-title>{{ title?title:'这里是标题' }}</p> <div class=title-line></div> <div class=info-wrap> <span class=time>{{ time | timeFormat }}</span><span class=author>{{author}}</span> </div> <div id=article-content> {{{ content?content:'这里是正文' }}} </div> </div> </div> </div> </div> </div> "},105:function(e,t,i){e.exports=' <div class="new-wrap base-width" _v-2a311ef6=""> <div class=bread-header _v-2a311ef6=""> <img src='+i(62)+' v-on:click=f_return class=return alt=返回上一级 _v-2a311ef6=""> <span v-on:click=f_return class=prev _v-2a311ef6="">内容管理/</span> <span class=now _v-2a311ef6="">新建作品</span> </div> <div class=brick-editor-wrap _v-2a311ef6=""> <div class=editor-left _v-2a311ef6=""> <div class=title-wrap _v-2a311ef6=""> <div class=abbr-cover-wrap _v-2a311ef6=""> <img v-bind:src=m_cover v-bind:style=coverStyle _v-2a311ef6=""> </div> <p class=title _v-2a311ef6=""> {{ m_title | ellipsis 32 }}</p> <p class=abbr _v-2a311ef6="">{{ m_abbr | ellipsis 22 }}</p> </div> <p class="cover-tip tip" _v-2a311ef6="">封面</p> <div class=cover-wrap _v-2a311ef6=""> <input type=file v-on:change=f_cover class=file-input _v-2a311ef6=""> <img v-bind:src=m_cover v-bind:style=coverStyle _v-2a311ef6=""> <p class=cover-tip v-show="m_cover==\'\'" _v-2a311ef6="">点击上传封面</p> </div> <div class=abbr-cover _v-2a311ef6=""> <p class="abbr-tip tip clearfix" _v-2a311ef6="">摘要 <span class=float-right _v-2a311ef6="">未填写自动抓取正文的前22个字</span></p> <textarea name=abbr v-model=m_abbr placeholder=请填写摘要 class=abbr-edit _v-2a311ef6=""></textarea> <span class=word-tip _v-2a311ef6="">{{ m_abbr | len }}/22</span> </div> </div> <div class=editor-main _v-2a311ef6=""> <div class="btn-toolbar clearfix" data-role=editor-toolbar data-target=#editor _v-2a311ef6=""> <div class=btn-group _v-2a311ef6=""> <a class="btn undo" data-edit=undo title=取消(Ctrl/Cmd+Z) _v-2a311ef6=""></a> <a class="btn redo" data-edit=redo title=重做(Ctrl/Cmd+Y) _v-2a311ef6=""></a> <a class="btn upload" title=插入图片 _v-2a311ef6=""><input type=file data-edit=insertImage _v-2a311ef6=""></a> </div> <div class="btn-group float-right" _v-2a311ef6=""> <span class="button save" v-on:click=f_save($event) _v-2a311ef6="">保存</span> <span class="button view" v-on:click=f_preview _v-2a311ef6="">预览</span> <span class="button release" v-on:click=f_save_release _v-2a311ef6="">保存并发布</span> </div> </div> <div class=title-wrap _v-2a311ef6=""> <img src='+i(61)+' class=left _v-2a311ef6=""> <img src='+i(63)+' class=right _v-2a311ef6=""> <input type=text class=title v-model=m_title placeholder=请在这里输入标题 _v-2a311ef6=""> <span class=word-tip _v-2a311ef6="">{{ m_title | len }}/32</span> </div> <div id=editor v-on:focus=f_editor_focus v-on:blur=f_editor_blur _v-2a311ef6="">这里开始正文</div> </div> </div> </div> <preview v-show=m_preview :show.sync=m_preview :author=m_author :title=m_title :time=m_time :content=m_content _v-2a311ef6=""></preview> '},157:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=function(){var e={};if(0===document.cookie.length)return e;for(var t=document.cookie.split(";"),i=0;i<t.length;i++){var o=t[i].split("=");e[o[0].trim()]=o[1]}return e},i=function(e,t){e.deleteContents();var i,o,n=document.createElement("div"),a=document.createDocumentFragment();return n.innerHTML=t,i=n.firstChild,o=a.appendChild(i),e.insertNode(a),o},o=function(e){var t=e.getRangeAt(0),o=i(t,"&nbsp&nbsp&nbsp&nbsp"),n=document.createRange();n.setStart(o,o.nodeValue.length),n.setEnd(o,o.nodeValue.length),e.removeAllRanges(),e.addRange(n)},n=function(e,t){var o=e.getRangeAt(0),n=i(o,"<img src="+t+' style="max-width:100%;">'),a=document.createRange();a.selectNode(n),a.collapse(!1),e.removeAllRanges(),e.addRange(a)},a=function(e){var t=e.getRangeAt(0),i=t.startContainer;if(i.nodeValue&&0===i.nodeValue.trim().length){i.nodeValue="";var o=document.createRange();i.previousSibling&&(o.selectNodeContents(i.previousSibling),o.collapse(!1),e.removeAllRanges(),e.addRange(o))}},r=function(i){var o=e.Deferred(),n=new FormData;return n.append("csrf",t().csrf||""),n.append("file",i),e.ajax({type:"POST",url:"/api/upload",data:n,processData:!1,contentType:!1}).done(function(e){"ok"===e.error?o.resolve(e.url):o.reject(e.msg)}).fail(function(e){o.reject(e.msg)}),o};e.fn.cleanHtml=function(){var t=e(this).html();return t&&t.replace(/(<br>|\s|<div><br><\/div>|&nbsp)*$/,"")},e.fn.wysiwyg=function(t){var i,s,c,l=this,d=function(){s.activeToolbarClass&&e(s.toolbarSelector).find(c).each(function(){var t=e(this).data(s.commandRole);document.queryCommandState(t)?e(this).addClass(s.activeToolbarClass):e(this).removeClass(s.activeToolbarClass)})},A=function(e,t){var i=e.split(" "),n=i.shift(),r=i.join(" ")+(t||"");"indent"===n?o(window.getSelection()):"outdent"===n?a(window.getSelection()):document.execCommand(n,0,r),d()},f=function(t){e.each(t,function(e,t){l.keydown(e,function(e){l.attr("contenteditable")&&l.is(":visible")&&(e.preventDefault(),e.stopPropagation(),A(t))}).keyup(e,function(e){l.attr("contenteditable")&&l.is(":visible")&&(e.preventDefault(),e.stopPropagation())})})},u=function(){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)},p=function(){i=u()},v=function(){var e=window.getSelection();if(i){try{e.removeAllRanges()}catch(t){document.body.createTextRange().select(),document.selection.empty()}e.addRange(i)}},g=function(t){l.focus(),e.each(t,function(t,i){/^image\//.test(i.type)?e.when(r(i)).done(function(e){n(window.getSelection(),e)}).fail(function(e){s.fileUploadError("file-reader",e)}):s.fileUploadError("unsupported-file-type",i.type)})},h=function(e,t){v(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,t||"transparent"),p(),e.data(s.selectionMarker,t)},m=function(t,i){t.find(c).click(function(){v(),l.focus(),A(e(this).data(i.commandRole)),p()}),t.find("[data-toggle=dropdown]").click(v),t.find("input[type=text][data-"+i.commandRole+"]").on("webkitspeechchange change",function(){var t=this.value;this.value="",v(),t&&(l.focus(),A(e(this).data(i.commandRole),t)),p()}).on("focus",function(){var t=e(this);t.data(i.selectionMarker)||(h(t,i.selectionColor),t.focus())}).on("blur",function(){var t=e(this);t.data(i.selectionMarker)&&h(t,!1)}),t.find("input[type=file][data-"+i.commandRole+"]").change(function(){v(),"file"===this.type&&this.files&&this.files.length>0&&g(this.files),p(),this.value=""})},w=function(){l.on("dragenter dragover",!1).on("drop",function(e){var t=e.originalEvent.dataTransfer;e.stopPropagation(),e.preventDefault(),t&&t.files&&t.files.length>0&&g(t.files)})};return s=e.extend({},e.fn.wysiwyg.defaults,t),c="a[data-"+s.commandRole+"],button[data-"+s.commandRole+"],input[type=button][data-"+s.commandRole+"]",f(s.hotKeys),s.dragAndDropImages&&w(),m(e(s.toolbarSelector),s),l.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){p(),d()}),e(window).bind("touchend",function(e){var t=l.is(e.target)||l.has(e.target).length>0,i=u(),o=i&&i.startContainer===i.endContainer&&i.startOffset===i.endOffset;o&&!t||(p(),d())}),this},e.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,uploadImageUrl:"/api/upload",fileUploadError:function(e,t){console.log("File upload error",e,t)}}}},158:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(t){if("string"==typeof t.data){var i=t.handler,o=t.data.toLowerCase().split(" "),n=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];t.handler=function(t){if(this===t.target||!(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,n)>-1)){var a="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],r=String.fromCharCode(t.which).toLowerCase(),s="",c={};t.altKey&&"alt"!==a&&(s+="alt+"),t.ctrlKey&&"ctrl"!==a&&(s+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==a&&(s+="meta+"),t.shiftKey&&"shift"!==a&&(s+="shift+"),a?c[s+a]=!0:(c[s+r]=!0,c[s+e.hotkeys.shiftNums[r]]=!0,"shift+"===s&&(c[e.hotkeys.shiftNums[r]]=!0));for(var l=0,d=o.length;l<d;l++)if(c[o[l]])return i.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ",'"':"'",",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}},183:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(211),a=o(n),r=i(157),s=o(r),c=i(158),l=o(c);t["default"]={data:function(){return{coverStyle:{width:"auto",height:"auto"},m_aid:"",m_cover:"",m_title:"",m_abbr:"",m_author:"",m_preview:!1,m_time:new Date,m_content:"",m_editor:null,m_$editor:null}},ready:function(){(0,l["default"])($),(0,s["default"])($),this.m_$editor=$("#editor"),this.m_editor=this.m_$editor.wysiwyg(),$(window).bind("beforeunload",function(){return"您可能有数据没有保存"}),this.f_get_edit_content(),this.f_get_user_info()},methods:{f_get_user_info:function(){var e=this;this.$http.get("/api/user").then(function(t){var i=t.body;"ok"===i.error&&(e.m_author=i.user.authorNickname)})},f_get_edit_content:function(){var e=this,t=this.$parseUrl(location.href).params.pid;t?this.$http.get("/api/post",{params:{crsf:this.$cookies().csrf||"",postId:t}}).then(function(i){var o=i.body,n=o.post;e.m_title=n.title,e.m_abbr=n.digest,e.m_content=n.words,e.m_cover=n.images[0],e.m_aid=t,e.m_$editor.html(e.m_content),e.f_image(e.m_cover)}):console.log()},f_cover:function(e){var t=this,i=e.target.files[0];return["gif","jpg","jpeg","png"].indexOf(i.type.split("/")[1].toLowerCase())===-1?this.$warn("图片格式只能为gif,jpg,jpeg和png"):(console.log(i.size),i.size/1024>2048?this.$warn("图片不能超过2M"):(this.$warn("封面图片上传中"),void this.f_upload_cover(i).then(function(e){var i=e.body,o=i.url;"ok"===i.error?t.f_image(o):t.$warn(i.msg)})))},f_image:function(e){var t=new Image,i=this;t.onload=function(){var o=t.width,n=t.height;o>n?(i.coverStyle.height="100%",i.coverStyle.width="auto"):(i.coverStyle.height="auto",i.coverStyle.width="100%"),i.m_cover=e},t.src=e},f_upload_cover:function(e){var t=new FormData;return t.append("csrf",this.$cookies().csrf||""),t.append("file",e),this.$http.post("/api/upload",t)},f_return:function(){location.href="/main#!/articles"},f_editor_focus:function(){"这里开始正文"===this.m_$editor.html()&&this.m_$editor.html("")},f_editor_blur:function(){""===this.m_$editor.html()&&this.m_$editor.html("这里开始正文")},f_save:function(e){var t=this;if(this.m_content=this.m_$editor.html(),this.f_check_article()){var i=e.currentTarget;i.classList.contains("disable")||(i.classList.add("disable"),i.innerHTML="正在保存",this.$http.post("/api/post",{aid:this.m_aid,csrf:this.$cookies().csrf||"",title:this.m_title,digest:this.m_abbr,words:this.m_content,cover:this.m_cover}).then(function(e){var o=e.body;"ok"===o.error?(t.m_aid=o.post.id,t.$warn("保存成功"),i.innerHTML="保存"):(t.$warn("保存失败"),i.innerHTML="请重试"),i.classList.remove("disable")}))}},f_save_release:function(e){if(this.m_content=this.m_$editor.html(),this.f_check_article()){var t=this,i=e.currentTarget;this.$confirm().then(function(e){i.classList.contains("disable")||(i.classList.add("disable"),i.innerHTML="正在发布",t.$http.post("/api/post",{aid:t.m_aid,csrf:t.$cookies().csrf||"",title:t.m_title,digest:t.m_abbr,words:t.m_content,cover:t.m_cover}).then(function(e){var o=e.body;"ok"===o.error?(t.f_release(o.post.id),i.innerHTML="保存并发布"):(t.$warn("发布失败"),i.innerHTML="请重试"),i.classList.remove("disable")}))})}},f_release:function(e){var t=this;this.$http.post("/api/publish/post",{pid:e}).then(function(e){var i=e.body;"ok"===i.error?t.$warn("发布文章成功",function(){$(window).unbind("beforeunload"),window.location.href="/main#!/release"}):(t.$warn("发布失败"),t.$warn(i.msg))})},f_preview:function(){this.m_content=this.m_$editor.html(),this.m_preview=!0,this.$fixBody()},f_check_article:function(){return""===this.m_title.trim()?(this.$warn("文章标题为空"),!1):this.m_title.trim().length>32?(this.$warn("文章标题过长"),!1):(""===this.m_abbr.trim()&&(this.m_abbr=this.$removeReturn(this.$getSelectTextById("editor")).substr(0,22)),this.m_abbr.trim().length>22?(this.$warn("文章摘要过长"),!1):""===this.m_cover?(this.$warn("文章封面为空"),!1):""!==this.m_content||(this.$warn("文章内容为空"),!1))}},components:{Preview:a["default"]}}},184:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{m_input:""}},props:["show","title","content","time","author"],methods:{f_close:function(){this.show=!1,this.$fixNoBody()}}}},210:function(e,t,i){var o,n;i(73),o=i(183),n=i(105),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},211:function(e,t,i){var o,n;i(68),o=i(184),n=i(100),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)}});