webpackJsonp([5,0],{0:function(a,e,t){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}var o=t(12),n=i(o),r=t(18),s=i(r),l=t(196),v=i(l),p=t(45),c=i(p),d=t(8),g=i(d);t(28),(0,g["default"])(n["default"]);var A=t(7);n["default"].use(A),n["default"].use(s["default"]),n["default"].http.options.emulateJSON=!0,new n["default"]({el:"#register-wrap",components:{Register:v["default"]}}),new n["default"]({el:".register-nav-wrap",components:{Top:c["default"]}})},3:function(a,e){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbMAAAGzCAIAAAAqj27QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQyNzVBODA3NjA5MTFFNkExQTdCNUVBMDczRDU1ODAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQyNzVBODE3NjA5MTFFNkExQTdCNUVBMDczRDU1ODAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRDI3NUE3RTc2MDkxMUU2QTFBN0I1RUEwNzNENTU4MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRDI3NUE3Rjc2MDkxMUU2QTFBN0I1RUEwNzNENTU4MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjEz5LsAAAkhSURBVHja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5nnOFrJ1v0EfUYAycrdpmlJ9PSWXplvQKCMrKL/Ex4IGZaSNhwgsaJQRLGiUEb4wz7MFjTKCBY0yggWNMvKH5a233A7nN0g00UcUoIyjb8Zer7OxoGmX38mNORydL2iffYoy8u94dDvEUdHtgDXNxVnp6fSZUBY0KCMXcYxA7Pf7oR5zjBoeTtwBUEa+PDq5pBmS8DgjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoIwDKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAqCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygiAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjAAoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICoIwAygigjADKCKCMAMoIoIwAygigjADKCKCMAMoIoIwAygigjADKCIAyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgIoI4AyAigjgDICKCOAMgKgjADKCKCMAMoIsK6/BRgAEbHQL6pmVSwAAAAASUVORK5CYII="},4:function(a,e,t){a.exports=t.p+"static/img/mp_qrcode.20a58cf.jpeg"},5:function(a,e){},6:function(a,e){a.exports=' <div class="warn-wrap txt-center" transition=warnIn _v-ef834396=""> <p class=msg-wrap _v-ef834396="">{{ msg }}</p> </div> '},7:function(a,e,t){"use strict";function i(a){var e=a.extend(t(10)),i=null;a.prototype.$warn=function(a,t){i||(i=new e({el:document.createElement("div"),data:function(){return{msg:a}}}),i.$appendTo(document.body),t&&setTimeout(function(){t&&t()},1e3))},a.transition("warnIn",{afterEnter:function(){setTimeout(function(){i.$remove()},1500)},afterLeave:function(){i=null}})}var o={install:i};a.exports=o},8:function(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(a){String.prototype.gblen=function(){for(var a=0,e=0;e<this.length;e++)this.charCodeAt(e)>127||94===this.charCodeAt(e)?a+=2:a++;return a},a.prototype.$getSelectTextById=function(a){var e=document.getElementById(a),t=window.getSelection(),i=document.createRange();i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i);var o=window.getSelection().toString();return t.removeAllRanges(),o},a.prototype.$removeReturn=function(a){return a.replace(/[\r\n]/g,"")},a.prototype.$cookies=function(){var a={};if(0===document.cookie.length)return a;for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var i=e[t].split("=");a[i[0].trim()]=i[1]}return a},a.prototype.$parseUrl=function(a){var e=document.createElement("a");return e.href=a,{source:a,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var a={},t=e.search.replace(/^\?/,"").split("&"),i=t.length,o=[],n=0;n<i;n++)t[n]&&(o=t[n].split("="),a[o[0]]=o[1]);return a}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||["",""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||["",""])[1],segments:e.pathname.replace(/^\//,"").split("/")}},a.prototype.$fixBody=function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},a.prototype.$fixNoBody=function(){document.getElementsByTagName("body")[0].style.overflow=""}}},9:function(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{}}}},10:function(a,e,t){var i,o;t(5),i=t(9),o=t(6),a.exports=i||{},a.exports.__esModule&&(a.exports=a.exports["default"]),o&&(("function"==typeof a.exports?a.exports.options||(a.exports.options={}):a.exports).template=o)},27:function(a,e){},28:function(a,e){},31:function(a,e,t){a.exports=' <div class="nav base-width" _v-e1baaba0=""> <a href=/index _v-e1baaba0=""> <h1 class=logo _v-e1baaba0="">砖栏作家</h1> </a> <div class=contact-us-wrap _v-e1baaba0=""> <span class="contact-us button" _v-e1baaba0="">联系我们</span> <img src='+t(4)+' class=mp_qrcode alt=砖栏公众号 _v-e1baaba0=""> </div> <a href=/signout class="float-right logout" id=logout _v-e1baaba0="">退出</a> </div> '},43:function(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{}}}},45:function(a,e,t){var i,o;t(27),i=t(43),o=t(31),a.exports=i||{},a.exports.__esModule&&(a.exports=a.exports["default"]),o&&(("function"==typeof a.exports?a.exports.options||(a.exports.options={}):a.exports).template=o)},81:function(a,e){},109:function(a,e,t){a.exports=' <div v-if="step==1" class="register-panel register-panel-1" _v-6e8a9aba=""> <div class=panel-header _v-6e8a9aba=""> <h3 _v-6e8a9aba="">申请成为砖栏作家</h3> <p _v-6e8a9aba="">阁下尚不是砖栏作家。</p> </div> <div class="progress-wrap clearfix" _v-6e8a9aba=""> <div class="progress-bar float-left" _v-6e8a9aba=""></div> <div class="progress-bar float-left" _v-6e8a9aba=""></div> <div class="progress-bar float-left" _v-6e8a9aba=""></div> </div> <div class=panel-main _v-6e8a9aba=""> <div class="input-wrap input-avatar" _v-6e8a9aba=""> <label for=avatar _v-6e8a9aba="">头像</label> <div class="input-avatar-wrap big" _v-6e8a9aba=""> <input type=file v-on:change=f_avatar class=file-input name=avatar id=avatar _v-6e8a9aba=""> <img v-bind:src=m_avatar?m_avatar:m_default_avatar v-bind:style=avatarStyle _v-6e8a9aba=""> </div> <div class="input-avatar-wrap small" _v-6e8a9aba=""> <img v-bind:src=m_avatar?m_avatar:m_default_avatar v-bind:style=avatarStyle _v-6e8a9aba=""> </div> <span _v-6e8a9aba="">作为该砖栏头像， <span class=em _v-6e8a9aba="">大小不大于2M的jpg、png、jpeg或者gif图片</span></span> </div> <div class=input-wrap _v-6e8a9aba=""> <label for=name _v-6e8a9aba="">名称</label> <input type=text name=name id=name v-model=m_name _v-6e8a9aba=""> <span _v-6e8a9aba="">作为该砖栏名称， <span class=em _v-6e8a9aba="">申请后不可修改</span></span> </div> </div> <div class=panel-footer _v-6e8a9aba=""> <span v-on:click=f_step(1) class="button next" _v-6e8a9aba="">下一步</span> </div> </div> <div v-if="step==2" class="register-panel register-panel-2" _v-6e8a9aba=""> <div class=panel-header _v-6e8a9aba=""> <h3 _v-6e8a9aba="">申请成为砖栏作家</h3> <p _v-6e8a9aba="">阁下尚不是砖栏作家。</p> </div> <div class="progress-wrap clearfix" _v-6e8a9aba=""> <div class="progress-bar float-left" _v-6e8a9aba=""></div> <div class="progress-bar float-left" _v-6e8a9aba=""></div> <div class="progress-bar float-left" _v-6e8a9aba=""></div> </div> <div class=panel-main _v-6e8a9aba=""> <div class=input-wrap _v-6e8a9aba=""> <div class="input-avatar-wrap small" _v-6e8a9aba=""> <img v-bind:src=m_avatar v-bind:style=avatarStyle _v-6e8a9aba=""> </div> <span _v-6e8a9aba="">{{ m_name }}</span> </div> <div class=input-wrap _v-6e8a9aba=""> <label for=intro _v-6e8a9aba="">简介</label> <textarea name=intro id=intro v-model=m_intro _v-6e8a9aba=""></textarea> <span _v-6e8a9aba="">你想通过砖栏表达什么？你更新的频率如何？</span> <span class=tip _v-6e8a9aba="">{{m_intro.length}}/252</span> </div> <div class=input-wrap _v-6e8a9aba=""> <label for=works _v-6e8a9aba="">作品</label> <input type=text name=works id=works v-model=m_works _v-6e8a9aba=""> <span _v-6e8a9aba="">选填，可填写作品链接、微博、公众号名称</span> </div> <div class=input-wrap _v-6e8a9aba=""> <label for=code _v-6e8a9aba="">邀请码</label> <input type=text name=code id=code v-model=m_code _v-6e8a9aba=""> <span _v-6e8a9aba="">选填，拥有邀请码可直接通过审核</span> </div> </div> <div class=panel-footer _v-6e8a9aba=""> <span v-on:click=f_step(-1) class="button prev" _v-6e8a9aba="">上一步</span> <span v-on:click=f_step(1) class="button next" _v-6e8a9aba="">下一步</span> </div> </div> <div v-if="step==3" class="register-panel register-panel-3" _v-6e8a9aba=""> <div class=panel-header _v-6e8a9aba=""> <h3 _v-6e8a9aba="">申请已提交。</h3> <p _v-6e8a9aba="">请务必扫描下方二维码关注砖栏公众号，审核结果将在48小时内通过公众号告知</p> </div> <div class="progress-wrap clearfix" _v-6e8a9aba=""> <div class="progress-bar float-left" _v-6e8a9aba=""></div> <div class="progress-bar float-left" _v-6e8a9aba=""></div> <div class="progress-bar float-left" _v-6e8a9aba=""></div> </div> <div class=panel-main _v-6e8a9aba=""> <div class=qrcode-wrap _v-6e8a9aba=""> <img src='+t(4)+' class=mp_qrcode alt=公众号二维码 _v-6e8a9aba=""> </div> </div> </div> '},173:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{step:1,avatarStyle:{width:"100%",height:"auto"},m_avatar:"",m_default_avatar:t(3),m_name:"",m_intro:"",m_works:"",m_code:""}},ready:function(){},methods:{f_avatar:function(a){var e=this,t=a.target.files[0];return["gif","jpg","jpeg","png"].indexOf(t.type.split("/")[1].toLowerCase())===-1?this.$warn("图片格式不对"):t.size/1024>2048?this.$warn("图片大小过大"):void this.f_upload_avatar(t).then(function(a){var t=a.body,i=t.url;"ok"===t.error?!function(){var a=new Image,t=e;a.onload=function(){var e=a.width,o=a.height;e>o?(t.avatarStyle.height="100%",t.avatarStyle.width="auto"):(t.avatarStyle.height="auto",t.avatarStyle.width="100%"),t.m_avatar=i},a.src=i}():e.$warn(t.msg)})},f_step:function(a){var e=this;if(1===a){if(!this.f_check_register())return;2===this.step&&this.f_register().then(function(a){console.log(a)},function(a){return e.$warn("上传问题出错")})}this.step=this.step+a},f_register:function(){return this.$http.post("/api/author/apply",{nickname:this.m_name,avatar:this.m_avatar,introduction:this.m_intro,works:this.m_works,inviteCode:this.m_code})},f_upload_avatar:function(a){var e=new FormData;return e.append("csrf",this.$cookies().csrf||""),e.append("file",a),this.$http.post("/api/upload",e)},f_check_register:function(){if(1===this.step){if(""===this.m_avatar)return this.$warn("砖栏头像不能为空"),!1;if(""===this.m_name.trim())return this.$warn("砖栏名称不能为空"),!1;if(this.m_name.trim().gblen()>32)return this.$warn("砖栏名称过长"),!1}if(2===this.step){if(""===this.m_intro.trim())return this.$warn("砖栏简介不能为空"),!1;if(this.m_intro.length>252)return this.$warn("砖栏简介过长"),!1}return!0}}}},196:function(a,e,t){var i,o;t(81),i=t(173),o=t(109),a.exports=i||{},a.exports.__esModule&&(a.exports=a.exports["default"]),o&&(("function"==typeof a.exports?a.exports.options||(a.exports.options={}):a.exports).template=o)}});